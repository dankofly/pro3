---
import type { Locale } from '~/i18n/utils';
import { getImprintPath, getPrivacyPath } from '~/i18n/utils';
import { siteConfig, buildMainSiteUrl } from '~/config/site';

export interface Props {
  locale: Locale;
  tagline: string;
  nav: {
    imprint: string;
    privacy: string;
    mainSite: string;
  };
  copyright: string;
}

const { locale, tagline, nav, copyright } = Astro.props;

const imprintPath = getImprintPath(locale);
const privacyPath = getPrivacyPath(locale);
const mainSiteUrl = buildMainSiteUrl('footer-link', locale);
const year = new Date().getFullYear().toString();
const copyrightText = copyright.replace('{year}', year);
---

<footer class="bg-gray-900 text-gray-300 py-10 sm:py-12 pb-24 md:pb-12">
  <div class="max-w-5xl mx-auto px-4 sm:px-6">
    <div class="text-center">
      <p class="text-white font-semibold text-lg mb-2">Tandemflug Lienz</p>
      <p class="text-sm text-gray-400 mb-6">{tagline}</p>

      <div class="flex items-center justify-center gap-4 text-sm mb-6">
        <a href={imprintPath} class="hover:text-white transition-colors">{nav.imprint}</a>
        <span class="text-gray-600">·</span>
        <a href={privacyPath} class="hover:text-white transition-colors">{nav.privacy}</a>
        <span class="text-gray-600">·</span>
        <a
          href={mainSiteUrl}
          target="_blank"
          rel="noopener noreferrer"
          class="hover:text-white transition-colors"
        >
          {nav.mainSite}
        </a>
      </div>

      {siteConfig.contact.phone && !siteConfig.contact.phone.includes('TODO') && (
        <p class="text-sm text-gray-400 mb-4">
          <a href={`tel:${siteConfig.contact.phone}`} class="hover:text-white transition-colors">
            {siteConfig.contact.phone}
          </a>
        </p>
      )}

      <p class="text-xs text-gray-500">{copyrightText}</p>
    </div>
  </div>
</footer>
