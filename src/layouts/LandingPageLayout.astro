---
import '~/assets/styles/tailwind.css';

import CommonMeta from '~/components/common/CommonMeta.astro';
import Favicons from '~/components/Favicons.astro';
import CustomStyles from '~/components/CustomStyles.astro';
import BasicScripts from '~/components/common/BasicScripts.astro';

import SEOHead from '~/components/landing/SEOHead.astro';
import LandingHeader from '~/components/landing/LandingHeader.astro';
import LandingFooter from '~/components/landing/LandingFooter.astro';
import StickyMobileBar from '~/components/landing/StickyMobileBar.astro';
import JsonLd from '~/components/landing/JsonLd.astro';

import type { Locale } from '~/i18n/utils';
import type { Dictionary } from '~/i18n/utils';

export interface Props {
  locale: Locale;
  currentPath: string;
  dict: Dictionary;
  faqItems?: Array<{ question: string; answer: string }>;
}

const { locale, currentPath, dict, faqItems } = Astro.props;
---

<!doctype html>
<html lang={locale} dir="ltr">
  <head>
    <CommonMeta />
    <Favicons />
    <CustomStyles />
    <title>{dict.meta.title}</title>
    <meta name="description" content={dict.meta.description} />
    <SEOHead
      locale={locale}
      currentPath={currentPath}
      title={dict.meta.title}
      description={dict.meta.description}
      ogTitle={dict.meta.ogTitle}
      ogDescription={dict.meta.ogDescription}
    />
  </head>

  <body class="antialiased text-slate-600 dark:text-slate-300 bg-white dark:bg-alpine-800 tracking-tight font-sans">
    <LandingHeader
      locale={locale}
      currentPath={currentPath}
      nav={dict.nav}
    />

    <main>
      <slot />
    </main>

    <LandingFooter
      locale={locale}
      tagline={dict.footer.tagline}
      nav={dict.footer.nav}
      copyright={dict.footer.copyright}
    />

    <StickyMobileBar
      callLabel={dict.stickyBar.call}
      whatsappLabel={dict.stickyBar.whatsapp}
      requestLabel={dict.stickyBar.request}
    />

    <JsonLd type="LocalBusiness" locale={locale} />
    {faqItems && faqItems.length > 0 && (
      <JsonLd type="FAQPage" locale={locale} faqItems={faqItems} />
    )}

    <BasicScripts />
  </body>
</html>
