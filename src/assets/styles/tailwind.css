@tailwind base;
@tailwind components;
@tailwind utilities;

@layer utilities {
  .bg-page {
    background-color: var(--aw-color-bg-page);
  }
  .bg-dark {
    background-color: var(--aw-color-bg-page-dark);
  }
  .bg-light {
    background-color: var(--aw-color-bg-page);
  }
  .text-page {
    color: var(--aw-color-text-page);
  }
  .text-muted {
    color: var(--aw-color-text-muted);
  }
}

@layer components {
  .btn {
    @apply inline-flex items-center justify-center rounded-full border-gray-400 border bg-transparent font-medium text-center text-base text-page leading-snug transition py-3.5 px-6 md:px-8 ease-in duration-200 focus:ring-blue-500 focus:ring-offset-blue-200 focus:ring-2 focus:ring-offset-2 hover:bg-gray-100 hover:border-gray-600 dark:text-slate-300 dark:border-slate-500 dark:hover:bg-slate-800 dark:hover:border-slate-800 cursor-pointer;
  }

  .btn-primary {
    @apply btn font-semibold bg-primary text-white border-primary hover:bg-secondary hover:border-secondary hover:text-white dark:text-white dark:bg-primary dark:border-primary dark:hover:border-secondary dark:hover:bg-secondary;
  }

  .btn-secondary {
    @apply btn;
  }

  .btn-tertiary {
    @apply btn border-none shadow-none text-muted hover:text-gray-900 dark:text-gray-400 dark:hover:text-white;
  }
}

#header.scroll > div:first-child {
  @apply bg-page md:bg-white/90 md:backdrop-blur-md;
  box-shadow: 0 0.375rem 1.5rem 0 rgb(140 152 164 / 13%);
}
.dark #header.scroll > div:first-child,
#header.scroll.dark > div:first-child {
  @apply bg-page md:bg-[#030621e6] border-b border-gray-500/20;
  box-shadow: none;
}
/* #header.scroll > div:last-child {
  @apply py-3;
} */

#header.expanded nav {
  position: fixed;
  top: 70px;
  left: 0;
  right: 0;
  bottom: 70px !important;
  padding: 0 5px;
}

.dropdown:focus .dropdown-menu,
.dropdown:focus-within .dropdown-menu,
.dropdown:hover .dropdown-menu {
  display: block;
}

[astro-icon].icon-light > * {
  stroke-width: 1.2;
}

[astro-icon].icon-bold > * {
  stroke-width: 2.4;
}

[data-aw-toggle-menu] path {
  @apply transition;
}
[data-aw-toggle-menu].expanded g > path:first-child {
  @apply -rotate-45 translate-y-[15px] translate-x-[-3px];
}

[data-aw-toggle-menu].expanded g > path:last-child {
  @apply rotate-45 translate-y-[-8px] translate-x-[14px];
}

/* To deprecated */

.dd *:first-child {
  margin-top: 0;
}

/* === GLASS CARD SYSTEM === */
@layer components {
  .glass-card {
    @apply bg-white border border-gray-200 rounded-2xl shadow-sm
           dark:bg-white/[0.04] dark:backdrop-blur-md dark:border-white/[0.08] dark:shadow-none;
  }

  .glass-card-hover {
    @apply bg-white border border-gray-200 rounded-2xl shadow-sm transition-all duration-300
           dark:bg-white/[0.04] dark:backdrop-blur-md dark:border-white/[0.08] dark:shadow-none;
  }

  @media (hover: hover) {
    .glass-card-hover:hover {
      @apply shadow-md border-orange-300/40 -translate-y-1
             dark:bg-white/[0.07] dark:border-sky-400/20 dark:shadow-lg dark:shadow-sky-500/[0.05];
    }
  }

  .glass-card-highlight {
    @apply bg-orange-50 border border-orange-300/40 rounded-2xl shadow-md
           dark:bg-white/[0.06] dark:backdrop-blur-md dark:border-sky-400/20 dark:shadow-lg dark:shadow-sky-500/[0.08];
  }
}

/* === GLOW ORB DECORATIVE ELEMENTS === */
.glow-orb {
  position: absolute;
  border-radius: 9999px;
  filter: blur(48px);
  pointer-events: none;
  animation: glow-pulse 8s ease-in-out infinite alternate;
}

.glow-orb-sky {
  background: rgba(249, 115, 22, 0.06);
}
.dark .glow-orb-sky {
  background: rgba(56, 189, 248, 0.10);
}

.glow-orb-indigo {
  background: rgba(234, 88, 12, 0.04);
}
.dark .glow-orb-indigo {
  background: rgba(99, 102, 241, 0.08);
}

@keyframes glow-pulse {
  0% { opacity: 0.5; transform: scale(1); }
  100% { opacity: 1; transform: scale(1.15); }
}

@keyframes hero-shimmer {
  0% { background-position: 0% 50%; }
  100% { background-position: 100% 50%; }
}
.hero-title-shimmer {
  background-size: 200% auto;
  animation: hero-shimmer 1.2s ease-out 2s 1 both;
}

/* === WHIMSY: MICRO-INTERACTIONS === */

/* Nav link animated underline */
.nav-link-fancy {
  position: relative;
}
.nav-link-fancy::after {
  content: '';
  position: absolute;
  bottom: -2px;
  left: 0;
  width: 0;
  height: 2px;
  background: currentColor;
  transition: width 0.3s ease;
  border-radius: 1px;
}
.nav-link-fancy:hover::after {
  width: 100%;
}

/* CTA button whimsy â€” lift + glow on hover (desktop only) */
.btn-whimsy {
  transition: all 0.25s cubic-bezier(0.34, 1.56, 0.64, 1);
}
@media (hover: hover) {
  .btn-whimsy:hover {
    transform: translateY(-2px) scale(1.02);
  }
}
.btn-whimsy:active {
  transform: translateY(0) scale(0.98);
  transition-duration: 0.1s;
}

/* Primary CTA pulse ring */
.cta-pulse {
  --pulse-color: rgba(249, 115, 22, 0.4);
}
.dark .cta-pulse {
  --pulse-color: rgba(56, 189, 248, 0.4);
}

/* Icon bounce on card hover */
.card-icon-bounce {
  transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
}

/* Arrow slide on hover */
.arrow-slide {
  transition: transform 0.25s ease;
}

/* Step badge pop */
.step-badge {
  transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
}
.step-badge:hover {
  transform: scale(1.1);
}

/* FAQ smooth toggle */
details[open] summary ~ div {
  animation: faqOpen 0.3s ease-out;
}
@keyframes faqOpen {
  from { opacity: 0; transform: translateY(-8px); }
  to { opacity: 1; transform: translateY(0); }
}

/* Form input focus glow */
.input-glow:focus {
  box-shadow: 0 0 0 3px var(--input-ring, rgba(249, 115, 22, 0.15));
}
.dark .input-glow:focus {
  box-shadow: 0 0 0 3px var(--input-ring, rgba(56, 189, 248, 0.15));
}

/* === VISUAL STORYTELLING === */

/* Gradient text for hero */
.hero-gradient-text {
  background: linear-gradient(135deg, #1e293b 0%, #f97316 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}
.dark .hero-gradient-text {
  background: linear-gradient(135deg, #ffffff 0%, #38bdf8 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

/* Section wave divider */
.section-wave {
  position: relative;
}
.section-wave::before {
  content: '';
  position: absolute;
  top: -1px;
  left: 0;
  right: 0;
  height: 48px;
  background: inherit;
  clip-path: ellipse(55% 100% at 50% 100%);
}

/* Popular badge */
.popular-badge {
  position: absolute;
  top: -12px;
  left: 50%;
  transform: translateX(-50%);
  white-space: nowrap;
  z-index: 10;
}

/* === NEUROMARKETING: SCROLL PROGRESS BAR === */
.scroll-progress {
  position: fixed;
  top: 0;
  left: 0;
  height: 3px;
  background: linear-gradient(90deg, #f97316, #ef4444);
  z-index: 100;
  transition: width 0.1s linear;
  pointer-events: none;
}
.dark .scroll-progress {
  background: linear-gradient(90deg, #38bdf8, #818cf8);
}

/* === NEUROMARKETING: URGENCY BADGE === */
@keyframes urgency-pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.7; }
}
.urgency-badge {
  animation: urgency-pulse 2s ease-in-out 3;
}

/* === NEUROMARKETING: CTA SOFT GLOW === */
@keyframes cta-soft-glow {
  0%, 100% { box-shadow: 0 4px 15px var(--pulse-color, rgba(249, 115, 22, 0.25)); }
  50% { box-shadow: 0 4px 25px var(--pulse-color, rgba(249, 115, 22, 0.45)), 0 0 0 4px var(--pulse-color, rgba(249, 115, 22, 0)); }
}
.animate-pulse-soft {
  animation: cta-soft-glow 3s ease-in-out 3;
}
.dark .animate-pulse-soft {
  --pulse-color: rgba(56, 189, 248, 0.35);
}

/* === SKIP TO CONTENT (Accessibility) === */
.skip-to-content {
  position: absolute;
  top: -100%;
  left: 50%;
  transform: translateX(-50%);
  z-index: 9999;
  padding: 0.75rem 1.5rem;
  background: #f97316;
  color: white;
  font-weight: 600;
  border-radius: 0 0 0.5rem 0.5rem;
  transition: top 0.2s;
}
.skip-to-content:focus {
  top: 0;
}

/* === ACTIVE NAV SECTION HIGHLIGHT === */
.nav-link-fancy.active::after {
  width: 100%;
}
.nav-link-fancy.active {
  color: #f97316;
}
.dark .nav-link-fancy.active {
  color: #38bdf8;
}

/* Smooth scroll */
@media (prefers-reduced-motion: no-preference) {
  html {
    scroll-behavior: smooth;
  }
}

/* === MOBILE TOUCH HAPTIK === */
/* Active-state feedback on touch devices */
@media (hover: none) and (pointer: coarse) {
  .btn-whimsy:active,
  .glass-card-hover:active {
    transform: scale(0.97);
    transition: transform 0.1s ease;
  }

  /* Scroll-snap for natural section-by-section scrolling */
  html {
    scroll-snap-type: y proximity;
  }
  section[id] {
    scroll-snap-align: start;
    scroll-snap-stop: normal;
  }
}

/* Desktop-only hover effects for card icons and arrows */
@media (hover: hover) {
  .group:hover .card-icon-bounce,
  .glass-card-hover:hover .card-icon-bounce {
    transform: translateY(-2px) scale(1.1);
  }
  .group:hover .arrow-slide {
    transform: translateX(4px);
  }
}
@media (hover: none) {
  .group:hover .card-icon-bounce,
  .glass-card-hover:hover .card-icon-bounce,
  .group:hover .arrow-slide {
    transform: none;
  }
}

/* Hide scrollbar for horizontal scroll containers */
.scrollbar-hide {
  -ms-overflow-style: none;
  scrollbar-width: none;
}
.scrollbar-hide::-webkit-scrollbar {
  display: none;
}

/* Reduced motion: disable ALL animations comprehensively */
@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
  .scroll-progress {
    display: none;
  }
}
